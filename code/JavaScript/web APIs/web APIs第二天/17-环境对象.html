<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <button>点击</button>
  <script>
    /*
    04 环境对象
    3.环境对象
    目标:能够分析判断函数运行在不同环境中this所指代的对象
    环境对象:指的是函数内部特殊的变量this,它代表着当前函数运行时所处的环境
    这个对象受当前环境的影响,所以叫环境对象
    作用:弄清楚this的指向,可以让我们代码更简洁
    // 每个函数里面都有this 环境对象  普通函数里面this指向的是window
    // this 指当前 this指向的是 Window整个浏览器
    // this是个对象,指向谁,对象就是谁

    函数的调用方式不同，this指代的对象也不同
    [谁调用,this 就是谁]是判断this指向的粗略规则
    直接调用函数,其实相当于是 window.函数，所以 this 指代 window
    // this指向调用者

    总结
    1.环境对象this是什么?
    它代表着当前函数运行时所处的环境
    2.判断 this 指向的粗略规则是什么?
    [谁调用,this 就是谁]

    setInterval(回调函数，间隔时间)
    第一个参数叫回调函数
    // 过了间隔时间就回头调用一次这个函数,所以称为回调函数
    定时器本身就是个函数,因为有小括号
    定时器-定时器函数-间歇函数

    05 回调函数
    5.回调函数
    目标:能够说出什么是回调函数
    如果将函数A做为参数传递给函数B时，我们称函数A为回调函数
    简单理解:当一个函数当做参数来传递给另外一个函数的时候，这个函数就是回调函数
    常见的使用场景:
    function fn( ) {
      console.log('我是回调函数...')
    }
    // setInterval()是一个函数, fn是一个函数 作为参数传递给函数setInterval()
    // fn传递给了setInterval, fn就是回调函数
    setInterval(fn,1000)
    // 回调函数不会立马执行
    // 每过1秒钟回头调用这个函数,所以称为回调函数

    // addEventListener( , )也是函数
    // 匿名函数作为参数,则该匿名函数为回调函数
    box.addEventListener('click',function() {
      console.log('我也是回调函数)
    })
    // 回调函数不会立马执行
    // 每点击一次回头调用函数

    总结
    1. 回调函数
    把函数当做另外一个函数的参数传递,这个函数就叫回调函数
    回调函数本质还是函数，只不过把它当成参数使用
    使用匿名函数做为回调函数比较常见

    // 注意：这里的回调和java有区别，java是传对象，js是直接传函数，回调函数的this指向不一样



    */

    // 每个函数里面都有this 环境对象  普通函数里面this指向的是window
    function fn() {
      console.log(this)
    }
    window.fn()

    const btn = document.querySelector('button')
    btn.addEventListener('click', function () {
      console.log(this)  // this指向btn btn是个对象
      // btn调用,所以环境对象this就是btn
      // btn.style.color = 'red'
      this.style.color = 'red'
    })
  </script>
</body>

</html>