<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
    2.3 存储复杂数据类型
    目标:能够存储复杂数据类型以及取出数据
    本地只能存储字符串,无法存储复杂数据类型.
    // goods 是一个对象
    const goods = {
        name:'小米10',
        price:1999
    }
    localStorage.setItem('goods', goods)
    // 变成了字符串 并不是对象
    key   value
    obj   [object Object]


    解决:需要将复杂数据类型转换成JSON字符串,再存储到本地
    语法:JSON.stringify(复杂数据类型)  是个方法
    const goods ={
      name:'小米10',
      price: 1999
    }
    localStorage.setItem('goods',JSON.stringify(goods))
    将复杂数据转换成JSON字符串 存储 本地存储中
    // 把goods对象转换成字符串的形式(黑色)存进去 变成 JSON字符串
    // JSON 对象  属性和值有引号，而且是引号统一是 双引号

    问题:因为本地存储里面取出来的是字符串(黑色)，不是对象，无法直接使用
    const obj = localStorage.getItem('goods')
    console.log(obj)

    解决:把取出来的字符串转换为对象
    语法:JSON.parse(JSON字符串)
    const obj = JSON.parse(localStorage.getItem('goods'))
    console.log(obj)
    ▶ 将JSON字符串转换成对象 取出 时候使用

    数组本质也是对象


    */
    const obj = {
      uname: 'pink老师',
      age: 18,
      gender: '女'
    }
    // // 存储 复杂数据类型  无法直接使用
    // localStorage.setItem('obj', obj)  [object object]    
    // // 取
    // console.log(localStorage.getItem('obj'))

    // 1.复杂数据类型存储必须转换为 JSON字符串存储
    localStorage.setItem('obj', JSON.stringify(obj))
    // JSON 对象  属性和值有引号，而是引号统一是双引号
    // {"uname":"pink老师","age":18,"gender":"女"}
    // 取
    // console.log(typeof localStorage.getItem('obj'))
    // 2. 把JSON字符串转换为 对象
    const str = localStorage.getItem('obj') // {"uname":"pink老师","age":18,"gender":"女"}
    console.log(JSON.parse(str))
  </script>
</body>

</html>